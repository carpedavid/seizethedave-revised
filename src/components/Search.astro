<script is:inline src="https://cdn.jsdelivr.net/npm/algoliasearch@5.37.0/dist/lite/builds/browser.umd.js" integrity="sha256-N8Rupdp0PWDXVLKTIcDmc8jFqOul/HR1QtBHlRSyS4A=" crossorigin="anonymous"></script>
<script is:inline src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.80.0/dist/instantsearch.production.min.js" integrity="sha256-r9HX5YzBrppuVpgfMA3USvgS2jEdIBPJ3ntsidyTNl8=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/styles/algoliasearchNetlify.css" />
<script is:inline src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js@1.19.4/dist/umd/index.production.js" integrity="sha256-VaQwRODmAHrukHfV+gCLjVfzWyj0veQpSK9hu77pt6A=" crossorigin="anonymous"></script>

<script is:inline>
    const { liteClient: algoliasearch } = window['algoliasearch/lite']
    const { autocomplete, getAlgoliaResults } = window['@algolia/autocomplete-js'];

    const searchClient = algoliasearch('G2F6H2YNTH', '5f98772c1156dc9ab77befd5c226e2f7')

    autocomplete({
        container: '#autocomplete',
        insights: true,
        placeholder: 'Search...',
        getSources({ query }) {
            return [
                {
                    sourceId: 'blog',
                    getItems() {
                        return getAlgoliaResults({
                            searchClient,
                            queries: [
                                {
                                    indexName: 'blog',
                                    params: {
                                        query,
                                        hitsPerPage: 10,
                                        attributesToSnippet: ['title:10', 'description:35'],
                                        snippetEllipsisText: '...'
                                    }
                                }
                            ]
                        })
                    },
                    templates: {
                        header({html}) {
                            return ""
                        },
                        footer({html}) {
                            return html`<div class="aa-powered-by">Search by <a href="https://www.algolia.com" class="aa-powered-by-link">Algolia</a></div>`
                        },
                        item({ item, components, html}) {
                            const bob = html`<a href="${item.path}">
                                    <div class="aa-ItemContent">
                                        <div class="aa-ItemIcon">
                                            <svg width="20" height="20" viewBox="0 0 20 20">
                                                <path
                                                    d="M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4"
                                                    stroke="currentColor"
                                                    fill="none"
                                                    fillRule="evenodd"
                                                    strokeLinejoin="round"
                                                />
                                            </svg>
                                        </div>
                                        <div>
                                            <div class="aa-ItemTitle">${components.Snippet({hit: item, attribute: 'title'})}</div>
                                            <div class="aa-ItemDescription">${components.Snippet({hit: item, attribute: 'description'})}</div>
                                        </div>
                                    </div>
                                </a>`
                        return bob
                        }
                    },
                    getItemUrl({ item }) {
                        return item.url
                    }
                }
            ]
        }
    })
</script>